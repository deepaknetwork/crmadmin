import{b as q,c as x,d as O,e as G,l as z,n as A,p as B,u as H,v as R,y as $}from"./chunk-4ASL325B.js";import{Ma as V,Na as T,Pa as F,Qa as D,Ra as N,Sa as P,va as j}from"./chunk-JYASIROW.js";import{h as I}from"./chunk-LEGGU5ER.js";import{$c as E,Bb as m,Mb as t,Nb as e,Ob as g,Sb as h,Vb as v,Xb as b,eb as r,fb as f,fd as w,gc as C,hc as i,ic as l,la as S,md as M,nd as k,qc as _,wa as p,xa as u,zb as y}from"./chunk-V2YTBSHV.js";import"./chunk-JNJ3D7EP.js";function K(c,d){if(c&1){let s=h();t(0,"div",24)(1,"button",25),i(2,"Schedule call"),e(),t(3,"button",26),v("click",function(){p(s);let a=b();return u(a.acc())}),i(4," Accept"),e(),t(5,"button",27),v("click",function(){p(s);let a=b();return u(a.can())}),i(6," Cancel"),e()()}if(c&2){b();let s=C(54);r(),m("cModalToggle",s.id)}}var oe=(()=>{let d=class d{constructor(n,a,o){this.fb=n,this.http=a,this.router=o,this.projectForm=this.fb.group({date:["",x.required],time:["",x.required]})}ngOnInit(){let n=localStorage.getItem("customerviewdeal");if(n)try{this.deal=JSON.parse(n),console.log(this.deal)}catch(a){console.error("Error parsing localStorage data",a)}}onSubmit(){let n=`${this.projectForm.value.date}T${this.projectForm.value.time}`;this.http.post("https://anorg.yellowrock-ae9aa95a.southindia.azurecontainerapps.io/admin/dealcall",{id:this.deal.id,time:n}).subscribe(a=>{this.router.navigate(["/deals"])},a=>{console.error("Error saving DateTime",a)})}acc(){this.http.post("https://anorg.yellowrock-ae9aa95a.southindia.azurecontainerapps.io/admin/acceptproject",{id:this.deal.id}).subscribe(n=>{this.router.navigate(["/projects"])},n=>{console.log(n)})}can(){this.http.post("https://anorg.yellowrock-ae9aa95a.southindia.azurecontainerapps.io/admin/projectdealstatus",{id:this.deal.id,status:"cancled"}).subscribe(n=>{this.router.navigate(["/deals"])},n=>{console.log(n)})}};d.\u0275fac=function(a){return new(a||d)(f(R),f(M),f(I))},d.\u0275cmp=S({type:d,selectors:[["app-viewdeal"]],standalone:!0,features:[_],decls:70,vars:11,consts:[["verticallyCenteredModal",""],[1,"container","vh-80",2,"background-color","#f4f5f7"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-lg-6","mb-4","mb-lg-0"],[1,"card","mb-3",2,"border-radius",".5rem"],[1,"row","g-0"],[1,"col-md-12"],[1,"card-body","p-4","bgc"],[1,"mt-0","mb-4"],[1,"row","pt-1"],[1,"col-10","col-xl-6","mb-3"],[1,"text-muted"],["class","d-flex g-3 row","style","justify-content: space-around;",4,"ngIf"],["alignment","center","id","verticallyCenteredModal"],["cModalTitle",""],[2,"display","flex","justify-content","space-around","flex-direction","column"],[2,"display","flex","padding-left","8%","flex-direction","column",3,"ngSubmit","formGroup"],[1,"row",2,"display","flex","gap","10%"],["for","date",1,"col-4"],["id","date","type","date","formControlName","date","required","",1,"col-8"],["for","time",1,"col-4"],["id","time","type","time","formControlName","time","required","",1,"col-8"],["type","submit",1,"btn","btn-warning","col-7","mt-3",3,"disabled"],[1,"d-flex","g-3","row",2,"justify-content","space-around"],["cButton","",1,"col-7","col-xl-3","btn","btn-primary","btnn",3,"cModalToggle"],[1,"col-7","col-xl-3","btn","btn-warning","btnn",3,"click"],[1,"col-7","col-xl-3","btn","btn-danger","btnn",3,"click"]],template:function(a,o){if(a&1){let J=h();t(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"h3"),i(9,"Project deal deatils"),e(),g(10,"hr",9),t(11,"div",10)(12,"div",11)(13,"h4"),i(14,"Project Id"),e(),t(15,"p",12),i(16),e()(),t(17,"div",11)(18,"h4"),i(19,"Status"),e(),t(20,"p",12),i(21),e()(),t(22,"div",11)(23,"h4"),i(24,"Description"),e(),t(25,"p",12),i(26),e()(),t(27,"div",11)(28,"h4"),i(29,"Contact Medium"),e(),t(30,"p",12),i(31),e()(),t(32,"div",11)(33,"h4"),i(34,"Platform"),e(),t(35,"p",12),i(36),e()(),t(37,"div",11)(38,"h4"),i(39,"Technologies"),e(),t(40,"p",12),i(41),e()(),t(42,"div",11)(43,"h4"),i(44,"Integrations"),e(),t(45,"p",12),i(46),e()(),t(47,"div",11)(48,"h4"),i(49,"Stakeholders"),e(),t(50,"p",12),i(51),e()()(),y(52,K,7,1,"div",13),e()()()()()()()(),t(53,"c-modal",14,0)(55,"c-modal-header")(56,"h5",15),i(57,"Scheduling call"),e()(),t(58,"c-modal-body",16)(59,"form",17),v("ngSubmit",function(){return p(J),u(o.onSubmit())}),t(60,"div",18)(61,"label",19),i(62,"Date:"),e(),g(63,"input",20),e(),t(64,"div",18)(65,"label",21),i(66,"Time:"),e(),g(67,"input",22),e(),t(68,"button",23),i(69,"Submit"),e()()()()}a&2&&(r(16),l(o.deal.id),r(5),l(o.deal.state),r(5),l(o.deal.discription),r(5),l(o.deal.contactMedium),r(5),l(o.deal.platforms),r(5),l(o.deal.technologies),r(5),l(o.deal.integrations),r(5),l(o.deal.stakeholders),r(),m("ngIf",o.deal.state!=="Accepted"&&o.deal.state!=="cancled"&&o.deal.state!=="Cancelled"),r(7),m("formGroup",o.projectForm),r(9),m("disabled",o.projectForm.invalid))},dependencies:[w,E,P,V,N,F,D,T,k,j,$,z,q,O,G,H,A,B],styles:[".bgc[_ngcontent-%COMP%]{transition:all ease 2s;animation:linear _ngcontent-%COMP%_bgcc 6s infinite}@keyframes _ngcontent-%COMP%_bgcc{0%{background-color:#fff}25%{background-color:#ffefef}50%{background-color:#f0fff0}75%{background-color:#eaf0ff}to{background-color:#fff}}"]});let c=d;return c})();export{oe as ViewdealComponent};
