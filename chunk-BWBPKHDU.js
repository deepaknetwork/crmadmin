import{a as A}from"./chunk-DNUCXBPU.js";import"./chunk-4ASL325B.js";import{Sa as H,jb as q,ya as z,za as D}from"./chunk-JYASIROW.js";import{h as R}from"./chunk-LEGGU5ER.js";import{$c as $,Bb as c,Kb as w,Lb as k,Mb as n,Nb as o,Ob as M,Sb as g,Vb as _,Xb as C,Zc as O,_b as E,ab as y,bc as F,cc as I,dc as T,eb as l,fb as v,fd as P,hc as r,ic as f,la as b,md as N,nd as Q,qc as V,uc as u,wa as m,xa as p,yc as j,zb as x}from"./chunk-V2YTBSHV.js";import"./chunk-JNJ3D7EP.js";var B=["verticallyCenteredModal"],L=(s,a)=>a.id,h=(s,a,e,t)=>({"success-row":s,"cancelled-row":a,"failed-row":e,"scheduled-row":t});function U(s,a){if(s&1&&(n(0,"a",8),r(1,"click to join"),o()),s&2){let e=C().$implicit;E("href",e.link,y)}}function G(s,a){if(s&1){let e=g();n(0,"tr",5),_("click",function(){let i=m(e).$implicit,d=C();return p(i.status=="Scheduled"?d.openModal(i):null)}),n(1,"td",6)(2,"div"),r(3),o()(),n(4,"td",6)(5,"div"),r(6),o()(),n(7,"td",6)(8,"div"),r(9),o()(),n(10,"td",6)(11,"div"),r(12),o()(),n(13,"td",6)(14,"div"),r(15),o()(),n(16,"td",6)(17,"div"),x(18,U,2,1,"a",7),o()()()}if(s&2){let e=a.$implicit,t=a.$index;l(),c("ngClass",u(12,h,e.status==="Success",e.status==="Cancelled",e.status==="Failed",e.status==="Scheduled")),l(2),f(t+1),l(),c("ngClass",u(17,h,e.status==="Success",e.status==="Cancelled",e.status==="Failed",e.status==="Scheduled")),l(2),f(e.status),l(),c("ngClass",u(22,h,e.status==="Success",e.status==="Cancelled",e.status==="Failed",e.status==="Scheduled")),l(2),f(e.customerId),l(),c("ngClass",u(27,h,e.status==="Success",e.status==="Cancelled",e.status==="Failed",e.status==="Scheduled")),l(2),f(e.projectId),l(),c("ngClass",u(32,h,e.status==="Success",e.status==="Cancelled",e.status==="Failed",e.status==="Scheduled")),l(2),f(e.time),l(),c("ngClass",u(37,h,e.status==="Success",e.status==="Cancelled",e.status==="Failed",e.status==="Scheduled")),l(2),c("ngIf",e.status==="Scheduled")}}function J(s,a){if(s&1){let e=g();n(0,"div",9)(1,"h5",10),r(2,"Call status"),o(),n(3,"button",11),_("click",function(){let i=m(e).$implicit;return p(i.dismiss("Cross click"))}),o()(),n(4,"div",12)(5,"button",13),_("click",function(){m(e);let i=C();return p(i.stat("Success"))}),r(6,"Success"),o(),n(7,"button",14),_("click",function(){m(e);let i=C();return p(i.stat("Cancelled"))}),r(8,"Cancelled"),o(),n(9,"button",15),_("click",function(){m(e);let i=C();return p(i.stat("Failed"))}),r(10,"Failed"),o()(),M(11,"div",16)}}var le=(()=>{let a=class a{constructor(t,i,d){this.http=t,this.modalService=i,this.router=d,this.deals=[]}ngOnInit(){this.http.get("https://anorg.yellowrock-ae9aa95a.southindia.azurecontainerapps.io/admin/meets").subscribe(t=>{this.deals=t,console.log(t)},t=>{console.log(t)})}openModal(t){this.selecteddeal=t,this.modalService.open(this.verticallyCenteredModal,{centered:!0})}stat(t){console.log(t),this.http.post("https://anorg.yellowrock-ae9aa95a.southindia.azurecontainerapps.io/admin/meetstatus",{id:this.selecteddeal.id,status:t}).subscribe(i=>{this.modalService.dismissAll(this.verticallyCenteredModal),this.router.navigate(["/meets"])},i=>{console.error("Error updating project",i)})}};a.\u0275fac=function(i){return new(i||a)(v(N),v(A),v(R))},a.\u0275cmp=b({type:a,selectors:[["app-meets"]],viewQuery:function(i,d){if(i&1&&F(B,7),i&2){let S;I(S=T())&&(d.verticallyCenteredModal=S.first)}},standalone:!0,features:[V],decls:22,vars:3,consts:[["verticallyCenteredModal",""],["cTable","",3,"hover","responsive","striped"],[1,"text-nowrap","text-truncate"],[1,"bg-body-tertiary","text-center"],[1,"clickable-row"],[1,"clickable-row",3,"click"],[1,"text-center",3,"ngClass"],[3,"href",4,"ngIf"],[3,"href"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",2,"display","flex","justify-content","space-around"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-footer"]],template:function(i,d){i&1&&(n(0,"c-row")(1,"c-col")(2,"table",1)(3,"thead",2)(4,"tr")(5,"th",3),r(6,"SI NO"),o(),n(7,"th",3),r(8,"Status"),o(),n(9,"th",3),r(10,"CustomerId"),o(),n(11,"th",3),r(12,"ProjectId"),o(),n(13,"th",3),r(14,"Time"),o(),n(15,"th",3),r(16,"Link"),o()()(),n(17,"tbody"),w(18,G,19,42,"tr",4,L),o()()()(),x(20,J,12,0,"ng-template",null,0,j)),i&2&&(l(2),c("hover",!0)("responsive",!0)("striped",!0),l(16),k(d.deals))},dependencies:[H,Q,P,O,$,q,z,D],styles:[".clickable-row[_ngcontent-%COMP%]{cursor:pointer}.success-row[_ngcontent-%COMP%]{background-color:#f0fff5}.cancelled-row[_ngcontent-%COMP%], .failed-row[_ngcontent-%COMP%]{background-color:#fff0f0}.scheduled-row[_ngcontent-%COMP%]{background-color:#e1e1ff}"]});let s=a;return s})();export{le as MeetsComponent};
